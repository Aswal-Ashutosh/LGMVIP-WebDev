(this["webpackJsonptask-3"]=this["webpackJsonptask-3"]||[]).push([[0],{102:function(e,t,n){},103:function(e,t,n){},105:function(e,t,n){},106:function(e,t,n){},107:function(e,t,n){},108:function(e,t,n){},109:function(e,t,n){},110:function(e,t,n){},111:function(e,t,n){},112:function(e,t,n){},113:function(e,t,n){"use strict";n.r(t);var a=n(6),s=n.n(a),r=n(77),c=n.n(r),l=n(0),u=n.n(l),i=n(1),o=n(2),h=n(3),d=n(15),b=n(9),p=n(10),j=(n(94),n(78)),m=n(55),g=n(16),x=Object(j.a)({apiKey:"AIzaSyAaoess__c4q-VWE_xx-X_vK7q4I1RCs0U",authDomain:"result-management-system-442e4.firebaseapp.com",projectId:"result-management-system-442e4",storageBucket:"result-management-system-442e4.appspot.com",messagingSenderId:"851697863963",appId:"1:851697863963:web:ffde3c69ea0c7651e757be",measurementId:"G-9EK05TKWNG"}),O=Object(m.b)(x),f=Object(g.c)(x),v=function(){var e=Object(i.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.c)(O,t,n).catch((function(e){throw e}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=Object(i.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.a)(O,t,n).catch((function(e){throw e}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),S=function(){var e=Object(i.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(m.d)(O);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),alert("Error: signOutRms");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),I=function(){return null!==O.currentUser};function N(){return y.apply(this,arguments)}function y(){return(y=Object(i.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(g.a)(f,"available-id","id-number"),e.next=4,Object(g.b)(t);case 4:return n=e.sent,a=n.data().id,e.next=8,Object(g.e)(t,{id:a+1});case 8:return e.abrupt("return",a);case 11:e.prev=11,e.t0=e.catch(0),alert("Error: generateCollegeID");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}var w=function(){var e=Object(i.a)(u.a.mark((function e(t,n){var a,s,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N();case 3:return a=e.sent,s=Object(g.a)(f,"admin",t),e.next=7,Object(g.d)(s,{"alloted-college-id":a});case 7:return r=Object(g.a)(f,"college",a.toString()),e.next=10,Object(g.d)(r,{"college-name":n});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),alert("Error: registerCollege");case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}(),C=function(){var e=Object(i.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Object(g.a)(f,"admin",t),e.next=4,Object(g.b)(n);case 4:return a=e.sent,e.abrupt("return",a.data()["alloted-college-id"]);case 8:e.prev=8,e.t0=e.catch(0),alert("Error: getCollegeID");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(i.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Object(g.a)(f,"college",t.toString()),e.next=4,Object(g.b)(n);case 4:return a=e.sent,e.abrupt("return",a.data()["college-name"]);case 8:e.prev=8,e.t0=e.catch(0),alert("Error: getCollegeName");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(i.a)(u.a.mark((function e(t,n,a){var s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=Object(g.a)(f,"college",t.toString(),"classes",n),e.next=4,Object(g.d)(s,{"class-name":n,subjects:a});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert("Error: createClass");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,a){return e.apply(this,arguments)}}(),D=function(){var e=Object(i.a)(u.a.mark((function e(t,n){var a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Object(g.a)(f,"college",n.toString(),"classes",t),e.next=4,Object(g.b)(a);case 4:return s=e.sent,e.abrupt("return",!s.exists());case 8:e.prev=8,e.t0=e.catch(0),alert("Error: isClassNameUnique");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),M=function(){var e=Object(i.a)(u.a.mark((function e(t,n){var a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Object(g.a)(f,"college",t.toString(),"students",n),e.next=4,Object(g.b)(a);case 4:return s=e.sent,e.abrupt("return",!s.exists());case 8:e.prev=8,e.t0=e.catch(0),alert("Error: isUniqueRollNumber");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),P=function(){var e=Object(i.a)(u.a.mark((function e(t,n){var a,s,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Object(g.a)(f,"college",n.toString(),"classes",t),e.next=4,Object(g.b)(a);case 4:return s=e.sent,r=s.data().subjects,e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(0),alert("Error: getSubjects");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e=Object(i.a)(u.a.mark((function e(t,n,a,s,r){var c,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=Object(g.a)(f,"college",n.toString(),"students",s),e.next=4,Object(g.d)(c,{"enrolled-class":t});case 4:return l=Object(g.a)(f,"college",n.toString(),"classes",t,"enrolled-students",s),e.next=7,Object(g.d)(l,{"student-name":a,"student-roll-no":parseInt(s),"student-marks":r});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),alert("Error: addStudent  "+e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n,a,s,r){return e.apply(this,arguments)}}(),U=function(){var e=Object(i.a)(u.a.mark((function e(t,n){var a,s,r,c,l,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E(t);case 3:return a=e.sent,s=Object(g.a)(f,"college",t.toString(),"students",n.toString()),e.next=7,Object(g.b)(s);case 7:return r=e.sent.data()["enrolled-class"],c=Object(g.a)(f,"college",t.toString(),"classes",r,"enrolled-students",n.toString()),e.next=11,Object(g.b)(c);case 11:return l=e.sent,i=l.data(),e.abrupt("return",{collegeName:a,className:r,studentName:i["student-name"],studentRollNumber:i["student-roll-no"],studentMarks:i["student-marks"]});case 16:e.prev=16,e.t0=e.catch(0),alert("Error: getResult");case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,n){return e.apply(this,arguments)}}(),B=function(){var e=Object(i.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Object(g.a)(f,"college",t.toString()),e.next=4,Object(g.b)(n);case 4:return a=e.sent,e.abrupt("return",a.exists());case 8:e.prev=8,e.t0=e.catch(0),alert("Error: isValidCollegeID");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(i.a)(u.a.mark((function e(t,n){var a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Object(g.a)(f,"college",t.toString(),"students",n.toString()),e.next=4,Object(g.b)(a);case 4:return s=e.sent,e.abrupt("return",s.exists());case 8:e.prev=8,e.t0=e.catch(0),alert("Error: isValidRollNumber");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),F=n(132),_=n(139),W=n(138),G=n(137),q=n(135),V=n(4),L=function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={emailInput:"",passwordInput:"",collegeInput:"",collegeIDInput:"",rollNumberInput:"",toggleButtonId:"sign_in",alertMessage:"",alert:!1,error:!1,loading:!1},a.handleEmailInput=a.handleEmailInput.bind(Object(d.a)(a)),a.handlePasswordInput=a.handlePasswordInput.bind(Object(d.a)(a)),a.handleCollegeInput=a.handleCollegeInput.bind(Object(d.a)(a)),a.handleCollegeIDInput=a.handleCollegeIDInput.bind(Object(d.a)(a)),a.handleRollNumberInput=a.handleRollNumberInput.bind(Object(d.a)(a)),a.handleSingIn=a.handleSingIn.bind(Object(d.a)(a)),a.handleSingUp=a.handleSingUp.bind(Object(d.a)(a)),a.handleGetResult=a.handleGetResult.bind(Object(d.a)(a)),a.handleToggleButtonChange=a.handleToggleButtonChange.bind(Object(d.a)(a)),a}return Object(h.a)(n,[{key:"handleEmailInput",value:function(e){this.setState({emailInput:e.target.value})}},{key:"handlePasswordInput",value:function(e){this.setState({passwordInput:e.target.value})}},{key:"handleCollegeIDInput",value:function(e){this.setState({collegeIDInput:e.target.value})}},{key:"handleRollNumberInput",value:function(e){this.setState({rollNumberInput:e.target.value})}},{key:"handleToggleButtonChange",value:function(e){this.setState({toggleButtonId:e.target.value}),this.clearAlert()}},{key:"handleCollegeInput",value:function(e){this.setState({collegeInput:e.target.value})}},{key:"clearAlert",value:function(){this.setState({alert:!1})}},{key:"showAlert",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.setState({alert:!0,error:t,alertMessage:e})}},{key:"validateEmailAndPassword",value:function(){return 0!==this.state.emailInput.length&&0!==this.state.passwordInput.length||(0===this.state.emailInput.length?this.showAlert("Email can't be empty!"):0===this.state.passwordInput.length&&this.showAlert("Password can't be empty!"),!1)}},{key:"validateCollege",value:function(){return 0!==this.state.collegeInput.length||(this.showAlert("College name can't be empty!"),!1)}},{key:"handleSingIn",value:function(){var e=Object(i.a)(u.a.mark((function e(){var t=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.clearAlert(),this.setState({loading:!0}),!this.validateEmailAndPassword()){e.next=7;break}return e.next=5,v(this.state.emailInput,this.state.passwordInput).then((function(){t.setState({loading:!1,emailInput:"",passwordInput:""}),t.showAlert("Signed In.",!1),t.props.history.push("/adminPanel")})).catch((function(e){switch(t.setState({loading:!1}),e.code){case"auth/invalid-email":t.showAlert("Invalid email!");break;case"auth/wrong-password":t.showAlert("Wrong password!");break;case"auth/user-not-found":t.showAlert("User not found!");break;default:alert(e.message),t.showAlert("Something went wrong!")}}));case 5:e.next=8;break;case 7:this.setState({loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleSingUp",value:function(){var e=Object(i.a)(u.a.mark((function e(){var t=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.clearAlert(),this.setState({loading:!0}),!this.validateEmailAndPassword()||!this.validateCollege()){e.next=7;break}return e.next=5,k(this.state.emailInput,this.state.passwordInput).then(Object(i.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t.state.emailInput,t.state.collegeInput);case 2:t.setState({emailInput:"",passwordInput:"",collegeInput:"",loading:!1}),t.showAlert("Account created successfully.",!1);case 4:case"end":return e.stop()}}),e)})))).catch((function(e){switch(t.setState({loading:!1}),e.code){case"auth/invalid-email":t.showAlert("Invalid email!");break;case"auth/email-already-in-use":t.showAlert("Email already in use!");break;case"auth/weak-password":t.showAlert("Password must be 6 characters long!");break;default:alert(e.message),t.showAlert("Something went wrong!")}}));case 5:e.next=8;break;case 7:this.setState({loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"validateStudentDetails",value:function(){var e=Object(i.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.state.collegeIDInput.length){e.next=3;break}return this.showAlert("College ID can't be empty!"),e.abrupt("return",!1);case 3:if(0!==this.state.rollNumberInput.length){e.next=6;break}return this.showAlert("Roll Number can't be empty!"),e.abrupt("return",!1);case 6:return e.next=8,B(this.state.collegeIDInput);case 8:if(e.sent){e.next=11;break}return this.showAlert("Provided college ID doesn't exist!"),e.abrupt("return",!1);case 11:return e.next=13,T(this.state.collegeIDInput,this.state.rollNumberInput);case 13:if(e.sent){e.next=16;break}return this.showAlert("Wrong Roll Number!"),e.abrupt("return",!1);case 16:return e.abrupt("return",!0);case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleGetResult",value:function(){var e=Object(i.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.validateStudentDetails();case 3:if(!e.sent){e.next=6;break}this.setState({loading:!1,alert:!1}),this.props.history.push("/studentResult",{collegeID:this.state.collegeIDInput,rollNumber:this.state.rollNumberInput});case 6:this.setState({loading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"renderButton",value:function(e){switch(e){case"sign_in":return Object(V.jsx)("button",{className:"formBtn",onClick:this.handleSingIn,children:"Sign In"});case"sign_up":return Object(V.jsx)("button",{className:"formBtn",onClick:this.handleSingUp,children:"Sign Up"});default:return Object(V.jsx)("button",{className:"formBtn",onClick:this.handleGetResult,children:"Get Result"})}}},{key:"render",value:function(){return Object(V.jsxs)("div",{id:"AdminFormContainer",children:[Object(V.jsx)("h1",{children:"Welcome"}),Object(V.jsxs)(G.a,{color:"primary",value:this.state.toggleButtonId,exclusive:!0,onChange:this.handleToggleButtonChange,children:[Object(V.jsx)(W.a,{value:"sign_in",children:"Sign In"}),Object(V.jsx)(W.a,{value:"sign_up",children:"Sign Up"}),Object(V.jsx)(W.a,{value:"students",children:"Students"})]}),Object(V.jsxs)("div",{className:"LoginForm",children:["students"!==this.state.toggleButtonId?Object(V.jsxs)("div",{children:["sign_up"===this.state.toggleButtonId?Object(V.jsx)("input",{id:"collegeInput",type:"text",value:this.state.collegeInput,onChange:this.handleCollegeInput,placeholder:"College Name"}):null,Object(V.jsx)("input",{type:"text",value:this.state.emailInput,onChange:this.handleEmailInput,placeholder:"Enter your email"}),Object(V.jsx)("input",{type:"password",value:this.state.passwordInput,onChange:this.handlePasswordInput,placeholder:"Password"})]}):Object(V.jsxs)("div",{children:[Object(V.jsx)("input",{type:"text",value:this.state.collegeIDInput,onChange:this.handleCollegeIDInput,placeholder:"College ID"}),Object(V.jsx)("input",{type:"text",value:this.state.rollNumberInput,onChange:this.handleRollNumberInput,placeholder:"Roll Number"})]}),this.renderButton(this.state.toggleButtonId)]}),this.state.loading?Object(V.jsx)(F.a,{sx:{marginTop:"2.5%"},children:Object(V.jsx)(_.a,{})}):null,this.state.alert&&Object(V.jsx)(q.a,{severity:this.state.error?"error":"success",sx:{margin:"1.5% 0"},children:this.state.alertMessage})]})}}]),n}(s.a.Component),H=L;n(102);var K=function(e){return Object(V.jsxs)("nav",{children:[Object(V.jsxs)("div",{children:[Object(V.jsx)("h1",{children:e.heading}),Object(V.jsx)("h4",{children:e.subHeading})]}),e.button&&Object(V.jsx)("div",{className:"Nav-btn",children:Object(V.jsx)("button",{onClick:e.button.onClick,children:e.button.text})})]})},J=(n(103),n(20));var z=function(){return Object(V.jsxs)("div",{id:"HomePage",children:[Object(V.jsx)(K,{heading:"Result Management System (R.M.S)"}),Object(V.jsx)("div",{id:"HomePageContent",children:Object(V.jsx)(H,{history:Object(J.f)()})})]})};n(105);var X=function(e){return Object(V.jsx)("div",{className:"PopUp",children:Object(V.jsxs)("div",{className:"PopUp-content",children:[Object(V.jsx)("span",{className:"Close-btn",onClick:e.closePopUp,children:"x"}),e.children]})})},Q=(n(106),n(43)),Y=n(21),Z=(n(107),n(133)),$=function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={subjects:[{subjectName:"",totalMarks:""}],className:"",classRelatedError:!1,classErrorMessage:null,subjectRelatedError:!1,subjectErrorMessage:null,processing:!1},a.addSubject=a.addSubject.bind(Object(d.a)(a)),a.deleteSubject=a.deleteSubject.bind(Object(d.a)(a)),a.handleSubjectNameInput=a.handleSubjectNameInput.bind(Object(d.a)(a)),a.handleSubjectMarksInput=a.handleSubjectMarksInput.bind(Object(d.a)(a)),a.handleClassNameInput=a.handleClassNameInput.bind(Object(d.a)(a)),a.handleOnSubmit=a.handleOnSubmit.bind(Object(d.a)(a)),a}return Object(h.a)(n,[{key:"handleClassNameInput",value:function(e){this.setState({className:e.target.value})}},{key:"addSubject",value:function(){this.setState((function(e){return{subjects:[].concat(Object(Y.a)(e.subjects),[{subjectName:"",totalMarks:""}])}}))}},{key:"deleteSubject",value:function(e){var t=e.target.name,n=this.state.subjects;n.splice(t,1),this.setState({subjects:n})}},{key:"handleSubjectNameInput",value:function(e){var t=e.target.name,n=this.state.subjects;n[t].subjectName=e.target.value,this.setState({subjects:n})}},{key:"handleSubjectMarksInput",value:function(e){var t=e.target.name,n=this.state.subjects,a=parseInt(e.target.value);n[t].totalMarks=isNaN(a)?"":a,this.setState({subjects:n})}},{key:"renderSubjects",value:function(){var e=this;return this.state.subjects.map((function(t,n){return Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{children:Object(V.jsx)("input",{type:"text",name:n,value:t.subjectName,onChange:e.handleSubjectNameInput})}),Object(V.jsx)("td",{children:Object(V.jsx)("input",{type:"number",max:"100",min:"0",name:n,value:t.totalMarks,onChange:e.handleSubjectMarksInput})}),1!==e.state.subjects.length&&Object(V.jsx)("td",{children:Object(V.jsx)("button",{name:n,onClick:e.deleteSubject,children:"Remove"})})]})}))}},{key:"removePrevError",value:function(){this.setState({classRelatedError:!1,subjectRelatedError:!1})}},{key:"validateForm",value:function(){var e=Object(i.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.removePrevError(),0!==this.state.className.length){e.next=4;break}return this.setState({classRelatedError:!0,classErrorMessage:"Class name can't be left empty!"}),e.abrupt("return",!1);case 4:return e.next=6,D(this.state.className,this.props.collegeID);case 6:if(e.sent){e.next=9;break}return this.setState({classRelatedError:!0,classErrorMessage:"This class name is already taken!"}),e.abrupt("return",!1);case 9:t=this.state.subjects,n=0;case 11:if(!(n<t.length)){e.next=22;break}if(0!==t[n].subjectName.length&&0!==t[n].totalMarks.length){e.next=15;break}return this.setState({subjectRelatedError:!0,subjectErrorMessage:"Some subject's fields are left blank!"}),e.abrupt("return",!1);case 15:if(!(parseInt(t[n].totalMarks)<=0)){e.next=19;break}return this.setState({subjectRelatedError:!0,subjectErrorMessage:"Total marks can't be negative!"}),e.abrupt("return",!1);case 19:++n,e.next=11;break;case 22:return e.abrupt("return",!0);case 23:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleOnSubmit",value:function(){var e=Object(i.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({processing:!0}),e.next=3,this.validateForm();case 3:if(!e.sent){e.next=7;break}return e.next=6,R(this.props.collegeID,this.state.className,this.state.subjects);case 6:this.props.closePopUp();case 7:this.setState({processing:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(V.jsxs)("div",{className:"ClassFormContainer",children:[Object(V.jsx)("h2",{children:"ADD NEW CLASS"}),Object(V.jsxs)("div",{className:"ClassForm",children:[Object(V.jsx)("input",{type:"text",value:this.state.className,onChange:this.handleClassNameInput,placeholder:"Class Name",required:!0}),this.state.classRelatedError&&Object(V.jsx)(q.a,{severity:"error",sx:{marginBottom:"1.0%"},children:this.state.classErrorMessage}),Object(V.jsx)("hr",{}),Object(V.jsx)("h3",{children:"Subjects"}),0!==this.state.subjects.length&&Object(V.jsxs)("table",{children:[Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"Subject Name"}),Object(V.jsx)("th",{children:"Total Marks"})]}),this.renderSubjects()]}),this.state.subjectRelatedError&&Object(V.jsx)(q.a,{severity:"error",sx:{marginBottom:"1.0%"},children:this.state.subjectErrorMessage}),this.state.processing&&Object(V.jsx)(Z.a,{sx:{marginBottom:"1.0%"},children:Object(V.jsx)(_.a,{})}),Object(V.jsx)("button",{onClick:this.addSubject,children:"Add Subject"}),Object(V.jsx)("button",{onClick:this.handleOnSubmit,children:"Submit"})]})]})}}]),n}(s.a.Component),ee=$;n(108);function te(e){var t=Object(J.f)();return Object(V.jsxs)("div",{className:"ClassCard",children:[Object(V.jsx)("p",{className:"S-no",children:e.index+1}),Object(V.jsx)("p",{className:"ClassName",children:e.className}),Object(V.jsx)("button",{onClick:function(){I()?t.push("/class",{className:e.className,collegeID:e.collegeID}):t.push("/")},children:"View"})]})}var ne=function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={collegeName:null,collegeID:null,popUp:!1,classes:[]},a.unsubscribe=null,a.togglePopUp=a.togglePopUp.bind(Object(d.a)(a)),a.signOut=a.signOut.bind(Object(d.a)(a)),a}return Object(h.a)(n,[{key:"togglePopUp",value:function(){I()?this.setState({popUp:!this.state.popUp}):this.props.history.push("/")}},{key:"componentDidMount",value:function(){var e=Object(i.a)(u.a.mark((function e(){var t,n,a=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==I()){e.next=4;break}return alert("Sign In Required."),this.props.history.push("/"),e.abrupt("return");case 4:return e.next=6,C(O.currentUser.email);case 6:return t=e.sent,e.next=9,E(t);case 9:return n=e.sent,this.setState({collegeName:n,collegeID:t}),e.next=13,Object(Q.e)(Object(Q.a)(f,"college",t.toString(),"classes"),(function(e){var t=e.docs;if(0!==t.length){var n=[];t.forEach((function(e){n.push(e.data()["class-name"])})),a.setState({classes:n})}}),(function(e){alert("Error(AdminPanel): "+e.message)}));case 13:this.unsubscribe=e.sent;case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){null!==this.unsubscribe&&this.unsubscribe()}},{key:"signOut",value:function(){var e=Object(i.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!I()){e.next=3;break}return e.next=3,S();case 3:this.props.history.push("/");case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(V.jsxs)("div",{id:"AdminPanel",children:[Object(V.jsx)(K,{heading:this.state.collegeName,subHeading:"College ID (".concat(this.state.collegeID,")"),button:{text:"Sign Out",onClick:this.signOut}}),this.state.popUp&&Object(V.jsx)(X,{closePopUp:this.togglePopUp,children:Object(V.jsx)(ee,{collegeID:this.state.collegeID,closePopUp:this.togglePopUp})}),0===this.state.classes.length?Object(V.jsx)(q.a,{severity:"info",sx:{margin:"2.5% 1.0%"},children:"No classes created yet!"}):Object(V.jsx)("h3",{children:"AVAILABLE CLASSES"}),this.state.classes.map((function(t,n){return Object(V.jsx)(te,{className:t,collegeID:e.state.collegeID,index:n},n)})),Object(V.jsx)("button",{onClick:this.togglePopUp,children:"Create Class"})]})}}]),n}(s.a.Component),ae=Object(J.h)(ne),se=n(18),re=n(140);n(109);function ce(e){var t=Object(a.useState)(null),n=Object(se.a)(t,2),s=n[0],r=n[1],c=Object(J.g)(),l=c.state.collegeID,o=c.state.rollNumber,h=0,d=0;Object(a.useEffect)((function(){null===s&&b()}));var b=function(){var e=Object(i.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(l,o);case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(V.jsx)("div",{className:"ResultContainer",children:null===s?Object(V.jsx)(re.a,{}):Object(V.jsxs)("div",{className:"Result",children:[Object(V.jsx)("h1",{children:s.collegeName}),Object(V.jsx)("h4",{children:"College ID(".concat(l,")")}),Object(V.jsx)("hr",{}),Object(V.jsx)("h4",{children:s.className}),Object(V.jsxs)("div",{className:"NameRollNo",children:[Object(V.jsxs)("p",{children:[Object(V.jsx)("b",{children:"Student Roll.No: "}),o]}),Object(V.jsxs)("p",{children:[Object(V.jsx)("b",{children:"Student Name: "}),s.studentName]})]}),Object(V.jsxs)("table",{children:[Object(V.jsx)("thead",{children:Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"Subject"}),Object(V.jsx)("th",{children:"Marks Obtained"}),Object(V.jsx)("th",{children:"Max Available Marks"})]})}),Object(V.jsx)("tbody",{children:s.studentMarks.map((function(e){return d+=e.totalMarks,h+=e.marksScored,Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{children:e.subjectName}),Object(V.jsx)("td",{children:e.marksScored}),Object(V.jsx)("td",{children:e.totalMarks})]})}))})]}),Object(V.jsxs)("p",{children:[Object(V.jsx)("b",{children:"Total Marks: "}),h,"/",d]}),Object(V.jsxs)("p",{children:[Object(V.jsx)("b",{children:"C.G.P.A: "}),(h/d*10).toFixed(1)]})]})})}var le=n(44),ue=(n(110),n(72)),ie=(n(111),function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={studentName:"",studentRollNumber:"",subjects:[],studentRelatedError:!1,marksRelatedError:!1,studentRelatedErrorMessage:null,marksRelatedErrorMessage:null,processing:!1},a.handleSubjectMarksInput=a.handleSubjectMarksInput.bind(Object(d.a)(a)),a.handleStudentNameInput=a.handleStudentNameInput.bind(Object(d.a)(a)),a.handleStudentRollNumberInput=a.handleStudentRollNumberInput.bind(Object(d.a)(a)),a.handleOnSubmit=a.handleOnSubmit.bind(Object(d.a)(a)),a}return Object(h.a)(n,[{key:"handleStudentNameInput",value:function(e){this.setState({studentName:e.target.value})}},{key:"handleStudentRollNumberInput",value:function(e){this.setState({studentRollNumber:e.target.value})}},{key:"handleSubjectMarksInput",value:function(e){var t=e.target.name,n=this.state.subjects,a=parseInt(e.target.value);n[t].marksScored=isNaN(a)?"":a,this.setState({subjects:n})}},{key:"componentDidMount",value:function(){var e=Object(i.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(this.props.className,this.props.collegeID);case 2:for(t=e.sent,n=0;n<t.length;++n)t[n]=Object(ue.a)(Object(ue.a)({},t[n]),{},{marksScored:""});this.setState({subjects:t});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"renderSubjects",value:function(){var e=this;return this.state.subjects.map((function(t,n){return Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{children:Object(V.jsx)("input",{type:"text",name:n,value:e.state.subjects[n].subjectName,readOnly:!0})}),Object(V.jsx)("td",{children:Object(V.jsx)("input",{type:"number",max:e.state.subjects[n].totalMarks,min:"0",name:n,value:t.marksScored,onChange:e.handleSubjectMarksInput})}),Object(V.jsx)("td",{children:Object(V.jsxs)("b",{children:["/",e.state.subjects[n].totalMarks]})})]})}))}},{key:"removePrevError",value:function(){this.setState({studentRelatedError:!1,marksRelatedError:!1})}},{key:"validateForm",value:function(){var e=Object(i.a)(u.a.mark((function e(){var t,n,a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.removePrevError(),0!==this.state.studentName.length&&0!==this.state.studentRollNumber.length){e.next=4;break}return this.setState({studentRelatedError:!0,studentRelatedErrorMessage:0===this.state.studentName.length?"Student name can't be left empty!":"Roll Number can't be left empty!"}),e.abrupt("return",!1);case 4:return e.next=6,M(this.props.collegeID,this.state.studentRollNumber);case 6:if(e.sent){e.next=9;break}return this.setState({studentRelatedError:!0,studentRelatedErrorMessage:"Roll Number already exist!"}),e.abrupt("return",!1);case 9:t=this.state.subjects,n=0;case 11:if(!(n<t.length)){e.next=23;break}if(0!==t[n].marksScored.toString().length){e.next=15;break}return this.setState({marksRelatedError:!0,marksRelatedErrorMessage:"".concat(t[n].subjectName," marks are left blank!")}),e.abrupt("return",!1);case 15:if(a=parseInt(t[n].totalMarks),!((s=parseInt(t[n].marksScored))<0||s>a)){e.next=20;break}return this.setState({marksRelatedError:!0,marksRelatedErrorMessage:s<0?"Marks can't be negative in ".concat(t[n].subjectName,"!"):"In ".concat(t[n].subjectName,", marks can't exceed ").concat(a)}),e.abrupt("return",!1);case 20:++n,e.next=11;break;case 23:return e.abrupt("return",!0);case 24:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleOnSubmit",value:function(){var e=Object(i.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({processing:!0}),e.next=3,this.validateForm();case 3:if(!e.sent){e.next=7;break}return e.next=6,A(this.props.className,this.props.collegeID,this.state.studentName,this.state.studentRollNumber,this.state.subjects);case 6:this.props.closePopUp();case 7:this.setState({processing:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(V.jsxs)("div",{className:"StudentFromContainer",children:[Object(V.jsx)("h2",{children:"ADD NEW STUDENT"}),Object(V.jsxs)("div",{className:"StudentForm",children:[Object(V.jsx)("input",{type:"text",value:this.state.className,onChange:this.handleStudentNameInput,placeholder:"Student Name"}),Object(V.jsx)("input",{type:"number",min:0,value:this.state.studentRollNumber,onChange:this.handleStudentRollNumberInput,placeholder:"Student Roll Number"}),this.state.studentRelatedError&&Object(V.jsx)(q.a,{severity:"error",sx:{marginBottom:"1.0%"},children:this.state.studentRelatedErrorMessage}),Object(V.jsx)("hr",{}),Object(V.jsx)("h3",{children:"Student Marks"}),0!==this.state.subjects.length&&Object(V.jsxs)("table",{children:[Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"Subject Name"}),Object(V.jsx)("th",{children:"Marks"})]}),this.renderSubjects()]}),this.state.marksRelatedError&&Object(V.jsx)(q.a,{severity:"error",sx:{marginBottom:"1.0%"},children:this.state.marksRelatedErrorMessage}),this.state.processing&&Object(V.jsx)(Z.a,{sx:{marginBottom:"1.0%"},children:Object(V.jsx)(_.a,{})}),Object(V.jsx)("button",{onClick:this.handleOnSubmit,children:"Add Student"})]})]})}}]),n}(s.a.Component)),oe=ie;n(112);function he(e){var t=Object(J.f)();return Object(V.jsxs)("div",{className:"StudentCard",children:[Object(V.jsx)("p",{className:"RollNumber",children:e.rollNumber}),Object(V.jsx)("p",{className:"StudentName",children:e.studentName}),Object(V.jsx)("button",{onClick:function(){I()?t.push("/studentResult",{collegeID:e.collegeID,rollNumber:e.rollNumber}):t.push("/")},children:"View"})]})}var de=function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={popUp:!1,students:[]},a.className=a.props.location.state.className,a.collegeID=a.props.location.state.collegeID,a.unsubscribe=null,a.togglePopUp=a.togglePopUp.bind(Object(d.a)(a)),a}return Object(h.a)(n,[{key:"togglePopUp",value:function(){I()?this.setState({popUp:!this.state.popUp}):this.props.history.push("/")}},{key:"componentDidMount",value:function(){var e=Object(i.a)(u.a.mark((function e(){var t=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==I()){e.next=4;break}return alert("Sign In Required."),this.props.history.push("/"),e.abrupt("return");case 4:return e.next=6,Object(Q.e)(Object(Q.a)(f,"college",this.collegeID.toString(),"classes",this.className,"enrolled-students"),(function(e){var n=e.docs;if(0!==n.length){var a=[];n.forEach((function(e){var t=e.data();a.push({studentRollNumber:t["student-roll-no"],studentName:t["student-name"]})})),t.setState({students:a})}}),(function(e){alert("Error(AdminPanel): ")}));case 6:this.unsubscribe=e.sent;case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){null!==this.unsubscribe&&this.unsubscribe()}},{key:"render",value:function(){var e=this;return Object(V.jsxs)("div",{id:"ClassPanel",children:[Object(V.jsx)(K,{heading:this.className}),this.state.popUp&&Object(V.jsx)(X,{closePopUp:this.togglePopUp,children:Object(V.jsx)(oe,{collegeID:this.collegeID,className:this.className,closePopUp:this.togglePopUp})}),0===this.state.students.length?Object(V.jsxs)(q.a,{severity:"info",sx:{margin:"1.0% 40%"},children:["No student is enrolled in"," ",Object(V.jsx)("span",{children:Object(V.jsx)("b",{children:this.className})}),"!"]}):Object(V.jsx)("h3",{children:"Students Enrolled"}),this.state.students.map((function(t,n){return Object(V.jsx)(he,{studentName:t.studentName,rollNumber:t.studentRollNumber,collegeID:e.collegeID},n)})),Object(V.jsx)("button",{onClick:this.togglePopUp,children:"Add Student"})]})}}]),n}(s.a.Component),be=Object(J.h)(de);var pe=function(){return Object(V.jsx)("div",{children:Object(V.jsx)(le.a,{children:Object(V.jsxs)(J.c,{children:[Object(V.jsx)(J.a,{exact:!0,path:"/",children:Object(V.jsx)(z,{})}),Object(V.jsx)(J.a,{exact:!0,path:"/adminPanel",children:Object(V.jsx)(ae,{})}),Object(V.jsx)(J.a,{exact:!0,path:"/class",children:Object(V.jsx)(be,{})}),Object(V.jsx)(J.a,{exact:!0,path:"/studentResult",children:Object(V.jsx)(ce,{})})]})})})};c.a.render(Object(V.jsx)(pe,{}),document.getElementById("root"))},94:function(e,t,n){}},[[113,1,2]]]);
//# sourceMappingURL=main.fcd22e63.chunk.js.map